<!--<script>
	CurrentUserController.$inject = ['$resource'];
  function CurrentUserController($resource){
   this.Activity = $resource( 'rest/user/current_user');
	this.fetch();
  }
  CurrentUserController.prototype = {
   fetch: function(){
    this.currentUser = this.Activity.get();
    this.$parent.currentUser = this.currentUser;
   }

</script>-->


<script src="gui/js/scripts.js"></script>
<link rel="stylesheet" href="gui/css/style-project.css" type="text/css" media="screen" />
<section id="project_index_page">
	<section id="project_index_Header">
		<section class="section_header">Projects</section>
		<section class="section_subheader">
			<span id="projectList_count">{{projects.total}}</span> Projects Available
		</section>
		<span ng:show="currentUser.nickname" id="projectList_create_new"><input type="text" id="search_query" name="search_query"/><a href="">Search</a></span>
	</section>
	<table id="project_index_Table" border="0" cellpadding="0" cellspacing="0">
		<tr class="projectListTableHeader">
			<td class="table_header projectList_project_title">Title</td>
			<td class="table_header projectList_project_owner">Owner</td>
			<td class="table_header projectList_project_status">Status</td>
			<td class="table_header projectList_project_budget">Budget</td>
			<td class="table_header projectList_project_tags">Tags</td>
			<td class="table_header projectList_project_created">Created</td>
		</tr>
		<tr class="projectListTableEntry" ng:repeat="project in projects.projectList" 
			  onmouseover="HighlightProjectRow(this, true);" 
              onmouseout="HighlightProjectRow(this, false);" 
              onclick="GoToURL('#/projects/{{project.id}}');">
			<td class="table_row projectList_project_title">{{project.title}}</td>
		<!-- <td class="table_row projectList_project_title">
				<div ng:show="currentUser.userType == 'developer'">
				   <a href="#/projects/bid/{{project.id}}">{{project.title}}</a>
				</div>
				<div ng:show="currentUser.userType == 'hirer'">
				   <a href="#/projects/bid/{{project.id}}">{{project.title}}</a>
				</div>
			</td>
			-->
			<td class="table_row projectList_project_owner">{{project.owner}}</td>
			<td class="table_row projectList_project_status">{{project.status}}</td>
			<td class="table_row projectList_project_budget">SGD${{project.budget}}</td>
			<td class="table_row projectList_project_tags"><span ng:repeat="item in project.tags"><span ng:hide="$position == 'first'">, </span>{{item}}</span></td>
			<td class="table_row projectList_project_created">{{project.created}}</td>

			<!--<li class="table_row projectList_project_action"><a href="#/projects/accept/{{project.id}}">View</a> / <a href="#/projects/bid/{{project.id}}">Bid</a></li>-->
	</tr>
	</table>
	
	<div class="pagination_section">
		<ul>
			<li>
				<span class="pagination_sidelinks" ng:hide="projects.page_current == 1"><a href="#/projects/page/1">First</a></span>
				<span class="currentsidelink" ng:show="projects.page_current == 1">First</span>
			</li>
			<li class="pagination_sidelinks" ng:hide="projects.page_current == 1"><a href="#/projects/page/{{projects.page_current-1}}"><</a></li>
			<li ng:repeat="page in projects.page_numbers">
				<span class="pagination_pages" ng:hide="page == projects.page_current"><a href="#/projects/page/{{page}}">{{page}}</a></span>
				<span class="pagination_pages_current currentpage" ng:show="page == projects.page_current">{{page}}</span>
			</li>
			<li class="pagination_sidelinks" ng:hide="projects.page_current == projects.pages"><a href="#/projects/page/{{projects.page_current+1}}">></a></li>
			<li>
				<span class="pagination_sidelinks" ng:hide="projects.page_current == projects.pages"><a href="#/projects/page/{{projects.pages}}">Last</a></span>
				<span class="currentsidelink" ng:show="projects.page_current == projects.pages">Last</span>
			</li>
		</ul>
    </div>
</section>
